{% extends "components/base.html" %}
{% load static %}
{% block content %}
<div id="settings-page" class="p-6 space-y-6 bg-gray-50 min-h-screen">
  <h1 class="text-2xl font-semibold text-gray-900">Configuración del Sistema</h1>

  <div class="bg-white rounded-lg shadow">
    <!-- Tabs -->
    <div class="border-b border-gray-200">
      <nav class="flex" aria-label="Tabs">
        <button class="settings-tab py-4 px-6 text-sm font-medium text-blue-600 border-b-2 border-blue-600" data-tab="camera-tab">
          Cámara y video
        </button>
        <button class="settings-tab py-4 px-6 text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 border-b-2 border-transparent" data-tab="alerts-tab">
          Alertas y notificaciones
        </button>
        <button class="settings-tab py-4 px-6 text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 border-b-2 border-transparent" data-tab="privacy-tab">
          Privacidad y cifrado
        </button>
      </nav>
    </div>

    <!-- Cámara -->
    <div id="camera-tab" class="settings-content p-6">
      <h2 class="text-lg font-medium text-gray-900 mb-2">Configuración de cámara</h2>
      <p class="text-sm text-gray-500 mb-6">Ajusta la configuración de cámara y procesamiento de video</p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Fuente de cámara</label>
          <select class="block w-full border border-gray-300 rounded-md py-2 px-3">
            <option>Cámara principal</option>
            <option>Cámara secundaria</option>
            <option>Cámara externa</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Resolución de video</label>
          <select class="block w-full border border-gray-300 rounded-md py-2 px-3">
            <option>480p</option>
            <option selected>720p</option>
            <option>1080p</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Velocidad de fotogramas</label>
          <select class="block w-full border border-gray-300 rounded-md py-2 px-3">
            <option>15 FPS (bajo consumo)</option>
            <option>24 FPS (recomendado)</option>
            <option>30 FPS (alta precisión)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Intervalo de análisis</label>
          <select class="block w-full border border-gray-300 rounded-md py-2 px-3">
            <option>1 segundo</option>
            <option>3 segundos</option>
            <option>5 segundos</option>
          </select>
        </div>
        <div class="col-span-2">
          <label class="inline-flex items-start">
            <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mt-1 mr-2" checked>
            <span>
              <span class="text-sm font-medium text-gray-700">Habilitar seguimiento facial</span><br>
              <span class="text-sm text-gray-500">El sistema detectará y seguirá los rostros para evaluar la atención</span>
            </span>
          </label>
        </div>
        <div class="col-span-2">
          <label class="inline-flex items-start">
            <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mt-1 mr-2">
            <span>
              <span class="text-sm font-medium text-gray-700">Guardar grabaciones</span><br>
              <span class="text-sm text-gray-500">Las sesiones se guardarán para referencia futura (requiere más espacio)</span>
            </span>
          </label>
        </div>
      </div>
    </div>

    <!-- Alertas -->
    <div id="alerts-tab" class="settings-content p-6 hidden">
      <h2 class="text-lg font-medium text-gray-900 mb-2">Configuración de alertas</h2>
      <p class="text-sm text-gray-500 mb-6">Personaliza cuándo y cómo recibir notificaciones</p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Umbral de distracción (%)</label>
          <input type="number" min="0" max="100" value="50" class="block w-full border border-gray-300 rounded-md py-2 px-3">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Duración mínima de distracción (segundos)</label>
          <input type="number" min="1" max="60" value="5" class="block w-full border border-gray-300 rounded-md py-2 px-3">
        </div>
      </div>
      <div class="mt-6 space-y-3">
        <label class="inline-flex items-center">
          <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mr-2" checked>
          <span class="text-sm text-gray-700">Alertas visuales</span>
        </label>
        <label class="inline-flex items-center">
          <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mr-2" checked>
          <span class="text-sm text-gray-700">Alertas sonoras</span>
        </label>
        <label class="inline-flex items-center">
          <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mr-2">
          <span class="text-sm text-gray-700">Notificaciones por correo</span>
        </label>
        <label class="inline-flex items-center mt-4">
          <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mr-2">
          <span class="text-sm text-gray-700">Sugerir pausas automáticas</span>
        </label>
      </div>
    </div>

    <!-- Privacidad -->
    <div id="privacy-tab" class="settings-content p-6 hidden">
      <h2 class="text-lg font-medium text-gray-900 mb-2">Privacidad y seguridad</h2>
      <p class="text-sm text-gray-500 mb-6">Configure opciones de privacidad y seguridad de datos</p>
      <div class="space-y-4">
        <label class="inline-flex items-start">
          <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mt-1 mr-2" checked>
          <span class="text-sm text-gray-700">Cifrado de datos</span>
        </label>
        <label class="inline-flex items-start">
          <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mt-1 mr-2">
          <span class="text-sm text-gray-700">Anonimización de reportes</span>
        </label>
        <label class="inline-flex items-start">
          <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 mt-1 mr-2" checked>
          <span class="text-sm text-gray-700">Almacenamiento seguro de grabaciones</span>
        </label>
      </div>
    </div>

    <!-- Botones -->
    <div class="px-6 py-4 bg-gray-50 text-right">
      <button class="py-2 px-4 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-100">Restaurar valores predeterminados</button>
      <button class="ml-3 py-2 px-4 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700">Guardar cambios</button>
    </div>
  </div>
</div>

<!-- Script para tabs -->
<script>
  const tabs = document.querySelectorAll('.settings-tab');
  const contents = document.querySelectorAll('.settings-content');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const target = tab.getAttribute('data-tab');
      contents.forEach(c => c.classList.add('hidden'));
      tabs.forEach(t => t.classList.remove('text-blue-600', 'border-blue-600'));
      tabs.forEach(t => t.classList.add('text-gray-500', 'border-transparent'));
      document.getElementById(target).classList.remove('hidden');
      tab.classList.remove('text-gray-500', 'border-transparent');
      tab.classList.add('text-blue-600', 'border-blue-600');
    });
  });
</script>
{% endblock %}
